<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> MVP</title>
        <link rel="stylesheet" href="../main.css">
        <link rel="shortcut icon" href="c:\Users\User\Desktop\web-front\favicon.ico" type="image/x-icon">
        <link rel="icon" href="c:\Users\User\Desktop\web-front\favicon-16x16.png">
        <link rel="icon" href="C:\Users\User\Desktop\web-front\favicon-32x32.png">
        <link rel="stylesheet" href="../random.html">
        <style>
            .game{
                margin: 10px auto;
                border: 2px solid rgb(27, 226, 153);
                border-radius: 30px;
                border-width: 4px;
                padding: 10px;
                text-align: center;
            }
            .instraction{
                margin: 10px auto;
                border: 2px solid rgb(112, 162, 212);
                color: rgb(11, 87, 17);
                text-align:left;
                border-radius: 30px;
                border-width: 4px;
                padding: 10px;
               
            }
        </style>

        <script>
            let number;
            let count = 0;
            function startInstraction(){
                let screensss = document.getElementsByClassName('instraction');
                screensss[0].style.display = 'none';
                screensss[1].style.display = 'block';
            }
            function endInstraction(){
                let screensss = document.getElementsByClassName('instraction');
                screensss[1].style.display = 'none';
                screensss[0].style.display = 'block';
            }
            function startGame(){
                number =Math.floor( Math.random() * 100 ) + 1;
                let screens = document.getElementsByClassName('game');
                screens[0].style.display = 'none';
                screens[1].style.display = 'block'; 
                let screensss = document.getElementsByClassName('instraction');
                screensss[1].style.display = 'none';
                screensss[0].style.display = 'none';
            }
            function guess(){
                count++;
                let input = document.getElementById('user-number');
                let userNumber = parseInt(input.value);
                let message = document.getElementById('result');
                if (userNumber > number){
                    message.innerHTML = 'Вы ввели слишком большое число';
                }
                if (userNumber < 1 || userNumber > 100) {
                message.innerHTML = 'Число должно быть от 1 до 100!';
                return;
                }
                 if (input.value.trim() === '') {
                message.innerHTML = 'Введите число!';
                return;
                }
                if (isNaN(userNumber)) {
                    message.innerHTML = 'Это не число!';
                    return;
                }

                else if (userNumber < number){
                    message.innerHTML = 'Вы ввели слишком маленькое число';
                }
                else{
                    let screens = document.getElementsByClassName('game');
                    screens[1].style.display = 'none';
                    screens[2].style.display = 'block';
                    document.getElementById('number').innerHTML = number;
                    document.getElementById('try-count').innerHTML = count;
                }
            }
            function again(params){
                let screens = document.getElementsByClassName('game');
                    screens[2].style.display = 'none';
                    screens[0].style.display = 'block';
                number =Math.floor( Math.random() * 100 ) + 1;
                count = 0;
                document.getElementById('result').innerHTML = '';
                document.getElementById('user-number').value = '';
            }
        </script>

    </head>

    <body>
            <header >
            </header>

            <main>
                <div class="game" onclick="startGame()">
                    <button>
                        Сыграть в игру
                    </button>
                </div>
                <div class="instraction" onclick="startInstraction()">
                    <button >
                        Показать правила игры
                    </button>
                </div>
                <div class="instraction" onclick="endInstraction()" style="display: none";>
                    <button >
                        Скрыть правила игры
                    </button><br>
                    1. Сначала нажмите кнопку "сыграть в игру"<br>
                    2. Далее выберите число и нажмите кнопку "Угадать"<br>
                    3.1 Если вы угадываете число, то игра заканчивается<br>
                    3.2 Если вы не угадываете число, то вам дается подсказка, маленькое или большое число вы ввели по сравнению с загаданным<br>
                    4. Затем вы можете увидеть количество попыток и загаданное число, а также сыграть еще раз, нажав на соответствующую кнопку<br>
                    5. Удачи!<br>
                </div>

                <div class="game" style="display: none;">
                    Задуманно число от 1 до 100. Угадай, какое?<br>
                    <input type="number" value="" min="1" max="100" id="user-number"><br>
                    <button onclick="guess()">Угадать</button>
                    <div id="result"></div>
                </div>

                <div class="game" style="display: none;">
                    <h1>Вы выиграли, поздравляю!</h1>
                    <div>
                        Задуманное число: <span id="number"></span>
                    </div>
                    <div >
                        Количество попыток:<span id="try-count"></span>
                    </div>
                    <div>
                        <button onclick="again()">Сыграть еще раз</button>
                    </div>
                </div>
            </main>

            <footer>
                &copy; Dark knight
            </footer>
    </body>
</html>